import { Inject, Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';
import { environment } from './environments/environment';
import { AI_CHATBOT_API_KEY } from './chatbot.tokens';

@Injectable({
  providedIn: 'root'
})
export class AiChatbotService {

  private apiUrl = environment.apiUrl;

  constructor(
    private http: HttpClient,
    @Inject(AI_CHATBOT_API_KEY) private apiKey: string
  ) { }

  getChatbotIcon(): string {
    return "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSIjNTg0MmFmIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTguNDggNGg0bC41LjV2Mi4wM2guNTJsLjUuNVY4bC0uNS41aC0uNTJ2M2wtLjUuNUg5LjM2bC0yLjUgMi43Nkw2IDE0LjRWMTJIMy41bC0uNS0uNjRWOC41aC0uNUwyIDh2LS45N2wuNS0uNUgzVjQuMzZMMy41MyA0aDRWMi44NkExIDEgMCAwIDEgNyAyYTEgMSAwIDAgMSAyIDAgMSAxIDAgMCAxLS41Mi44M1Y0ek0xMiA4VjVINHY1Ljg2bDIuNS4xNEg3djIuMTlsMS44LTIuMDQuMzUtLjE1SDEyVjh6bS0yLjEyLjUxYTIuNzEgMi43MSAwIDAgMS0xLjM3Ljc0di0uMDFhMi43MSAyLjcxIDAgMCAxLTIuNDItLjc0bC0uNy43MWMuMzQuMzQuNzQ1LjYwOCAxLjE5Ljc5LjQ1LjE4OC45MzIuMjg2IDEuNDIuMjlhMy43IDMuNyAwIDAgMCAyLjU4LTEuMDdsLS43LS43MXpNNi40OSA2LjVoLTF2MWgxdi0xem0zIDBoMXYxaC0xdi0xeiIvPgo8L3N2Zz4K";
  }

  getDownArrowIcon(): string {
    return "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgd2lkdGg9IjgwMHB4IiBoZWlnaHQ9IjgwMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxwYXRoIGQ9Ik01LjcwNzExIDkuNzEwNjlDNS4zMTY1OCAxMC4xMDEyIDUuMzE2NTggMTAuNzM0NCA1LjcwNzExIDExLjEyNDlMMTAuNTk5MyAxNi4wMTIzQzExLjM4MDUgMTYuNzkyNyAxMi42NDYzIDE2Ljc5MjQgMTMuNDI3MSAxNi4wMTE3TDE4LjMxNzQgMTEuMTIxM0MxOC43MDggMTAuNzMwOCAxOC43MDggMTAuMDk3NiAxOC4zMTc0IDkuNzA3MDhDMTcuOTI2OSA5LjMxNjU1IDE3LjI5MzcgOS4zMTY1NSAxNi45MDMyIDkuNzA3MDhMMTIuNzE3NiAxMy44OTI3QzEyLjMyNzEgMTQuMjgzMyAxMS42OTM5IDE0LjI4MzIgMTEuMzAzNCAxMy44OTI3TDcuMTIxMzIgOS43MTA2OUM2LjczMDggOS4zMjAxNiA2LjA5NzYzIDkuMzIwMTYgNS43MDcxMSA5LjcxMDY5WiIgZmlsbD0iI0ZGRkZGRiIvPg0KPC9zdmc+DQo=";
  }

  getUpArrowIcon(): string {
    return "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAzQzEyLjI2NTIgMyAxMi41MTk2IDMuMTA1MzYgMTIuNzA3MSAzLjI5Mjg5TDE5LjcwNzEgMTAuMjkyOUMyMC4wOTc2IDEwLjY4MzQgMjAuMDk3NiAxMS4zMTY2IDE5LjcwNzEgMTEuNzA3MUMxOS4zMTY2IDEyLjA5NzYgMTguNjgzNCAxMi4wOTc2IDE4LjI5MjkgMTEuNzA3MUwxMyA2LjQxNDIxVjIwQzEzIDIwLjU1MjMgMTIuNTUyMyAyMSAxMiAyMUMxMS40NDc3IDIxIDExIDIwLjU1MjMgMTEgMjBWNi40MTQyMUw1LjcwNzExIDExLjcwNzFDNS4zMTY1OCAxMi4wOTc2IDQuNjgzNDIgMTIuMDk3NiA0LjI5Mjg5IDExLjcwNzFDMy45MDIzNyAxMS4zMTY2IDMuOTAyMzcgMTAuNjgzNCA0LjI5Mjg5IDEwLjI5MjlMMTEuMjkyOSAzLjI5Mjg5QzExLjQ4MDQgMy4xMDUzNiAxMS43MzQ4IDMgMTIgM1oiIGZpbGw9IiNGRkZGRkYiLz4NCjwvc3ZnPg0K";
  }

  getChatIcon(): string {
    return "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgd2lkdGg9IjgwMHB4IiBoZWlnaHQ9IjgwMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxwYXRoIGQ9Ik0zIDcuMkMzIDYuMDc5ODkgMyA1LjUxOTg0IDMuMjE3OTkgNS4wOTIwMkMzLjQwOTczIDQuNzE1NjkgMy43MTU2OSA0LjQwOTczIDQuMDkyMDIgNC4yMTc5OUM0LjUxOTg0IDQgNS4wNzk5IDQgNi4yIDRIMTcuOEMxOC45MjAxIDQgMTkuNDgwMiA0IDE5LjkwOCA0LjIxNzk5QzIwLjI4NDMgNC40MDk3MyAyMC41OTAzIDQuNzE1NjkgMjAuNzgyIDUuMDkyMDJDMjEgNS41MTk4NCAyMSA2LjA3OTkgMjEgNy4yVjIwTDE3LjY3NTcgMTguMzM3OEMxNy40MjM3IDE4LjIxMTggMTcuMjk3NyAxOC4xNDg4IDE3LjE2NTYgMTguMTA0NEMxNy4wNDg0IDE4LjA2NSAxNi45Mjc3IDE4LjAzNjUgMTYuODA1MiAxOC4wMTkzQzE2LjY2NzIgMTggMTYuNTI2MyAxOCAxNi4yNDQ2IDE4SDYuMkM1LjA3OTg5IDE4IDQuNTE5ODQgMTggNC4wOTIwMiAxNy43ODJDMy43MTU2OSAxNy41OTAzIDMuNDA5NzMgMTcuMjg0MyAzLjIxNzk5IDE2LjkwOEMzIDE2LjQ4MDIgMyAxNS45MjAxIDMgMTQuOFY3LjJaIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+DQo8L3N2Zz4NCg==";
  }

  generateResponse(postObj: any): Observable<any> {
    return this.http.post(this.apiUrl + this.apiKey, postObj);
  }
}
