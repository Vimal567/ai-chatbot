<ng-container>
  <div class="chatbot-popup" *ngIf="showChat">
    <!-- Chatbot header -->
    <div class="chat-header">
      <div class="header-info">
        <img [src]="chatBotIcon" alt="chat bot icon">
        <h2 class="logo-text">Chatbot</h2>
      </div>
      <button (click)="showChat = false">
        <img [src]="arrowDownIcon" alt="minimize">
      </button>
    </div>
    <!-- Chatbot body -->
    <div #chatBody class="chat-body">
      <div class="message bot-message">
        <img [src]="chatBotIcon" alt="chat bot icon">
        <p class="message-text">
          Hey there ðŸ‘‹<br /> How can I help you today?
        </p>
      </div>
      <!-- Rendering chat -->
      <ng-container *ngIf="chatHistory && chatHistory.length">
        <ng-container *ngFor="let chat of chatHistory">
          <div class="message" [ngClass]="chat.role === 'model' ? 'bot-message' : 'user-message'">
            <p class="message-text">
              {{chat.text}}
            </p>
          </div>
        </ng-container>
      </ng-container>
    </div>

    <div class="chat-footer">
      <form action="#" class="chat-form" (submit)="onSubmit($event)">
        <input [(ngModel)]="message" type="text" placeholder="Type here.." name="chart input" class="message-input"
          required />
        <button type='submit'>
          <img [src]="arrowUpIcon" alt="Submit">
        </button>
      </form>
    </div>
  </div>
  <div class="chat-bubble" (click)="showChat = !showChat">
    <img [src]="chatIcon" alt="minimize" *ngIf="!showChat">
    <span *ngIf="showChat">X</span>
  </div>
</ng-container>